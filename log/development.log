Started GET "/" for ::1 at 2021-02-08 17:23:56 -0800
Started GET "/" for ::1 at 2021-02-08 17:23:56 -0800

ActiveRecord::NoDatabaseError - FATAL:  database "jefflix_development" does not exist:


ActiveRecord::NoDatabaseError - FATAL:  database "jefflix_development" does not exist:

Started POST "/__better_errors/bbea94369bce5fb8/variables" for ::1 at 2021-02-08 17:23:57 -0800
  [1m[35m (590.8ms)[0m  [1m[35mCREATE DATABASE "jefflix_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (185.5ms)[0m  [1m[35mCREATE DATABASE "jefflix_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
Started GET "/" for ::1 at 2021-02-08 17:25:10 -0800
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/scottbogart/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/railties-5.2.4.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/scottbogart/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/railties-5.2.4.4/lib/rails/templates/rails/welcome/index.html.erb (6.9ms)
Completed 200 OK in 63ms (Views: 37.9ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2021-02-08 17:27:13 -0800
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (3.0ms)
Completed 200 OK in 5726ms (Views: 5706.8ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2021-02-08 17:45:12 -0800

ActionController::RoutingError - uninitialized constant StaticPagesController:

Started POST "/__better_errors/a84de427a44961d0/variables" for ::1 at 2021-02-08 17:45:13 -0800
Started GET "/" for ::1 at 2021-02-08 17:46:50 -0800

ActionController::RoutingError - uninitialized constant StaticPagesController:

Started POST "/__better_errors/d0e2a36f06bce7ce/variables" for ::1 at 2021-02-08 17:46:51 -0800
Started GET "/" for ::1 at 2021-02-08 17:51:28 -0800

ActionController::RoutingError - uninitialized constant StaticPagesController:

Started POST "/__better_errors/72e43ed497cf0f41/variables" for ::1 at 2021-02-08 17:51:29 -0800
  [1m[35m (12.8ms)[0m  [1m[35mCREATE DATABASE "jefflix_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (2.6ms)[0m  [1m[35mCREATE DATABASE "jefflix_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
Started GET "/" for ::1 at 2021-02-08 17:53:25 -0800
Processing by Api::StaticPagesController#root as HTML
  Rendering api/static_pages/root.html.erb within layouts/application
  Rendered api/static_pages/root.html.erb within layouts/application (4.3ms)
Completed 200 OK in 7830ms (Views: 7816.5ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2021-02-08 17:55:31 -0800

ActionController::RoutingError - uninitialized constant StaticPagesController:

Started POST "/__better_errors/9c4e1ccfe2e65618/variables" for ::1 at 2021-02-08 17:55:33 -0800
Started GET "/" for ::1 at 2021-02-08 17:55:41 -0800
Processing by Api::StaticPagesController#root as HTML
  Rendering api/static_pages/root.html.erb within layouts/application
  Rendered api/static_pages/root.html.erb within layouts/application (1.7ms)
Completed 200 OK in 131ms (Views: 117.5ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2021-02-08 18:00:28 -0800
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (4.5ms)
Completed 200 OK in 6704ms (Views: 6692.6ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2021-02-08 18:00:43 -0800
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.7ms)
Completed 200 OK in 467ms (Views: 457.9ms | ActiveRecord: 0.0ms)


  [1m[35m (79.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (2.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2813240567747369445)[0m
  â†³ bin/rails:9
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateUsers (20210209181553)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (24.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "session_token" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20210209181553_create_users.rb:3
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  â†³ db/migrate/20210209181553_create_users.rb:11
  [1m[35m (2.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_session_token" ON "users"  ("session_token")[0m
  â†³ db/migrate/20210209181553_create_users.rb:12
  [1m[36mActiveRecord::SchemaMigration Create (4.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210209181553"]]
  â†³ bin/rails:9
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (1.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-02-09 18:25:52.264892"], ["updated_at", "2021-02-09 18:25:52.264892"]]
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(2813240567747369445)[0m
  â†³ bin/rails:9
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started GET "/" for ::1 at 2021-02-09 11:32:54 -0800
  [1m[35m (3.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/scottbogart/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (2.7ms)
Completed 200 OK in 4558ms (Views: 4547.5ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2021-02-09 13:48:31 -0800
  [1m[35m (5.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/scottbogart/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (2.8ms)
Completed 200 OK in 4410ms (Views: 4394.8ms | ActiveRecord: 0.0ms)


Started POST "/api/user?email=abc@gmail.com&password=[FILTERED]" for ::1 at 2021-02-09 13:53:30 -0800
Processing by Api::UsersController#create as JSON
  Parameters: {"email"=>"abc@gmail.com", "password"=>"[FILTERED]"}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 10ms (ActiveRecord: 0.0ms)



ActionController::InvalidAuthenticityToken - ActionController::InvalidAuthenticityToken:

Started POST "/api/user?email=abc@gmail.com&password=[FILTERED]" for ::1 at 2021-02-09 14:03:55 -0800
Processing by Api::UsersController#create as JSON
  Parameters: {"email"=>"abc@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (9.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 400 Bad Request in 105ms (ActiveRecord: 42.3ms)



ActionController::ParameterMissing - param is missing or the value is empty: user:
  app/controllers/api/users_controller.rb:19:in `user_params'
  app/controllers/api/users_controller.rb:7:in `create'

Started POST "/api/user?email=abc@gmail.com&password=[FILTERED]" for ::1 at 2021-02-09 14:08:37 -0800
  [1m[35m (9.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/scottbogart/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Processing by Api::UsersController#create as JSON
  Parameters: {"email"=>"abc@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 400 Bad Request in 44ms (ActiveRecord: 7.9ms)



ActionController::ParameterMissing - param is missing or the value is empty: user:
  app/controllers/api/users_controller.rb:19:in `user_params'
  app/controllers/api/users_controller.rb:7:in `create'

Started GET "/" for ::1 at 2021-02-09 14:08:46 -0800
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (2.7ms)
Completed 200 OK in 4570ms (Views: 4560.7ms | ActiveRecord: 0.0ms)


Started POST "/api/user?email=abc@gmail.com&password=[FILTERED]&" for ::1 at 2021-02-09 14:12:22 -0800
Processing by Api::UsersController#create as JSON
  Parameters: {"email"=>"abc@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 400 Bad Request in 73ms (ActiveRecord: 23.5ms)



ActionController::ParameterMissing - param is missing or the value is empty: user:
  app/controllers/api/users_controller.rb:23:in `user_params'
  app/controllers/api/users_controller.rb:11:in `create'

Started POST "/api/user?email=abc@gmail.com&password=[FILTERED]&user=@user" for ::1 at 2021-02-09 14:13:11 -0800
Processing by Api::UsersController#create as JSON
  Parameters: {"email"=>"abc@gmail.com", "password"=>"[FILTERED]", "user"=>"@user"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.7ms)



NoMethodError - undefined method `permit' for "@user":String:
  app/controllers/api/users_controller.rb:23:in `user_params'
  app/controllers/api/users_controller.rb:11:in `create'

Started POST "/api/user?email=abc@gmail.com&password=[FILTERED]&user=%23{@user}" for ::1 at 2021-02-09 14:13:35 -0800
Processing by Api::UsersController#create as JSON
  Parameters: {"email"=>"abc@gmail.com", "password"=>"[FILTERED]", "user"=>"\#{@user}"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.2ms)



NoMethodError - undefined method `permit' for "\#{@user}":String:
  app/controllers/api/users_controller.rb:23:in `user_params'
  app/controllers/api/users_controller.rb:11:in `create'

Started POST "/api/user?email=abc@gmail.com&password=[FILTERED]" for ::1 at 2021-02-09 14:13:54 -0800
Processing by Api::UsersController#create as JSON
  Parameters: {"email"=>"abc@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 400 Bad Request in 20ms (ActiveRecord: 5.3ms)



ActionController::ParameterMissing - param is missing or the value is empty: user:
  app/controllers/api/users_controller.rb:23:in `user_params'
  app/controllers/api/users_controller.rb:11:in `create'

Started POST "/api/user" for ::1 at 2021-02-09 14:26:01 -0800
Processing by Api::UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"abc@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abc@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "jvZ92BF5narHfLCACRxyAw"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/api/users_controller.rb:8
Completed 422 Unprocessable Entity in 553ms (Views: 1.6ms | ActiveRecord: 53.8ms)


Started POST "/api/user?user[email]=abc@gmail.com&user[password]=[FILTERED]" for ::1 at 2021-02-09 14:38:42 -0800
Processing by Api::UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"abc@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (6.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (3.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (6.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abc@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "eBJ03mTveROJAUssVkRNlA"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[35m (3.0ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/api/users_controller.rb:8
Completed 422 Unprocessable Entity in 1627ms (Views: 8.8ms | ActiveRecord: 21.4ms)


Started POST "/api/user?user[email]=abc@gmail.com&user[password]=[FILTERED]&user[username]=abc" for ::1 at 2021-02-09 14:39:09 -0800
Processing by Api::UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"abc@gmail.com", "password"=>"[FILTERED]", "username"=>"abc"}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Unpermitted parameter: :username
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (3.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abc@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "u1kSCtbFRdoti78jWeLWlA"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/api/users_controller.rb:8
Completed 422 Unprocessable Entity in 1535ms (Views: 46.5ms | ActiveRecord: 7.2ms)


Started POST "/api/user?user[email]=%27abc@gmail.com%27&user[password]=[FILTERED]&user[username]=%27abc%27" for ::1 at 2021-02-09 14:39:37 -0800
Processing by Api::UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"'abc@gmail.com'", "password"=>"[FILTERED]", "username"=>"'abc'"}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Unpermitted parameter: :username
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "'abc@gmail.com'"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "-AdJRxvlrkkf_EJJ5J3pHw"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/api/users_controller.rb:8
Completed 422 Unprocessable Entity in 1003ms (Views: 5.4ms | ActiveRecord: 5.5ms)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2813240567747369445)[0m
  â†³ bin/rails:9
  [1m[35m (5.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to RemoveUsername (20210209224356)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (57.7ms)[0m  [1m[35mALTER TABLE "users" DROP COLUMN "username"[0m
  â†³ db/migrate/20210209224356_remove_username.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (16.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210209224356"]]
  â†³ bin/rails:9
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (3.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(2813240567747369445)[0m
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started POST "/api/user?user[email]=%27abc@gmail.com%27&user[password]=[FILTERED]" for ::1 at 2021-02-09 14:45:53 -0800
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/scottbogart/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Processing by Api::UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"'abc@gmail.com'", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/users_controller.rb:8
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/api/users_controller.rb:8
Completed 500 Internal Server Error in 653ms (ActiveRecord: 20.9ms)



NoMethodError - undefined method `username' for #<User:0x00007fce58c91430>:
  app/controllers/api/users_controller.rb:8:in `create'

Started POST "/api/user?user[email]=%27abc@gmail.com%27&user[password]=[FILTERED]" for ::1 at 2021-02-09 14:47:20 -0800
Processing by Api::UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"'abc@gmail.com'", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "'abc@gmail.com'"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (8.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "BZf2weyqbISfxLRiQTEgWA"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Create (15.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "session_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "'abc@gmail.com'"], ["password_digest", "$2a$12$Yl16MgLsRRgxvIY/vhiJ9.eyld6D2HIoHX9/6g/QhyQYfwwbEAyQO"], ["session_token", "BZf2weyqbISfxLRiQTEgWA"], ["created_at", "2021-02-09 22:47:23.571925"], ["updated_at", "2021-02-09 22:47:23.571925"]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 500 Internal Server Error in 2308ms (ActiveRecord: 103.8ms)



NoMethodError - undefined method `reset_session_token!' for nil:NilClass:
  app/controllers/application_controller.rb:16:in `login'
  app/controllers/api/users_controller.rb:9:in `create'

Started POST "/api/user?user[email]=%27abc@gmail.com%27&user[password]=[FILTERED]" for ::1 at 2021-02-09 14:49:43 -0800
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/scottbogart/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Processing by Api::UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"'abc@gmail.com'", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "'abc@gmail.com'"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "wcLy8oJSnLodwnWnIjZqBA"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/api/users_controller.rb:8
Completed 422 Unprocessable Entity in 661ms (Views: 2.9ms | ActiveRecord: 27.6ms)


Started POST "/api/user?user[email]=%27abcd@gmail.com%27&user[password]=[FILTERED]" for ::1 at 2021-02-09 14:49:56 -0800
Processing by Api::UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"'abcd@gmail.com'", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "'abcd@gmail.com'"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "PVtFiPBkqWRHhj8tId4qKg"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "session_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "'abcd@gmail.com'"], ["password_digest", "$2a$12$5yP.YUxFoQKF6YhC3mj1lOMISp8WOitMNsDisj0GJ605dFudwsW2y"], ["session_token", "PVtFiPBkqWRHhj8tId4qKg"], ["created_at", "2021-02-09 22:49:57.163862"], ["updated_at", "2021-02-09 22:49:57.163862"]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[35m (5.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 500 Internal Server Error in 713ms (ActiveRecord: 10.4ms)



NoMethodError - undefined method `reset_session_token!' for nil:NilClass:
  app/controllers/application_controller.rb:16:in `login'
  app/controllers/api/users_controller.rb:9:in `create'

Started POST "/api/user?user[email]=%27abcde@gmail.com%27&user[password]=[FILTERED]" for ::1 at 2021-02-09 14:51:44 -0800
Processing by Api::UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"'abcde@gmail.com'", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (9.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "'abcde@gmail.com'"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "OQd8ZScrJ7sCpTBM8SIGAA"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "session_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "'abcde@gmail.com'"], ["password_digest", "$2a$12$MBcmL5NqSGwkSpYdYHHO6OImMct9knpv4uNdi5s4nT1zg8g6nIZyS"], ["session_token", "OQd8ZScrJ7sCpTBM8SIGAA"], ["created_at", "2021-02-09 22:51:46.439898"], ["updated_at", "2021-02-09 22:51:46.439898"]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/users_controller.rb:8
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:28
  [1m[36mUser Exists (3.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "'abcde@gmail.com'"], ["id", 3], ["LIMIT", 1]]
  â†³ app/models/user.rb:28
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "ej5fhlPga5SYxIGPKLTNtw"], ["id", 3], ["LIMIT", 1]]
  â†³ app/models/user.rb:28
  [1m[36mUser Update (9.1ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "ej5fhlPga5SYxIGPKLTNtw"], ["updated_at", "2021-02-09 22:51:46.476529"], ["id", 3]]
  â†³ app/models/user.rb:28
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:28
  Rendering api/users/show.json.jbuilder
  Rendered api/users/_user.json.jbuilder (37.9ms)
  Rendered api/users/show.json.jbuilder (87.6ms)
Completed 200 OK in 1819ms (Views: 233.6ms | ActiveRecord: 54.6ms)


Started GET "/" for ::1 at 2021-02-09 14:52:04 -0800
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (4.5ms)
Completed 200 OK in 9923ms (Views: 9912.6ms | ActiveRecord: 0.0ms)


Started DELETE "/api/session?user[id]=3" for ::1 at 2021-02-09 14:57:28 -0800
Processing by Api::SessionsController#destroy as JSON
  Parameters: {"user"=>{"id"=>"3"}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 6ms (ActiveRecord: 0.0ms)



ActionController::InvalidAuthenticityToken - ActionController::InvalidAuthenticityToken:

Started DELETE "/api/session?user[id]=3" for ::1 at 2021-02-09 14:58:05 -0800
Processing by Api::SessionsController#destroy as JSON
  Parameters: {"user"=>{"id"=>"3"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 404 Not Found in 36ms (Views: 1.0ms | ActiveRecord: 9.4ms)


Started POST "/api/user?user[email]=abc@gmail.com&user[password]=[FILTERED]" for ::1 at 2021-02-09 14:59:04 -0800
Processing by Api::UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"abc@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abc@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "rvA1WfkXB1FusQDQ9TM3mw"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Create (3.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "session_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "abc@gmail.com"], ["password_digest", "$2a$12$Lar89uvJeMY2/b9SDW.wbOPDNLiVzzN505ShjxXX9JzoNIHUuGkYm"], ["session_token", "rvA1WfkXB1FusQDQ9TM3mw"], ["created_at", "2021-02-09 22:59:04.827188"], ["updated_at", "2021-02-09 22:59:04.827188"]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/users_controller.rb:8
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:28
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "abc@gmail.com"], ["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:28
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "Kxsnqbz0yT39fLv3ReTs4w"], ["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:28
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "Kxsnqbz0yT39fLv3ReTs4w"], ["updated_at", "2021-02-09 22:59:04.856755"], ["id", 4]]
  â†³ app/models/user.rb:28
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:28
  Rendering api/users/show.json.jbuilder
  Rendered api/users/_user.json.jbuilder (0.8ms)
  Rendered api/users/show.json.jbuilder (5.2ms)
Completed 200 OK in 708ms (Views: 39.9ms | ActiveRecord: 22.5ms)


Started POST "/api/session?user[email]=abc@gmail.com&user[password]=[FILTERED]" for ::1 at 2021-02-09 14:59:23 -0800
Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"abc@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abc@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:12
Completed 500 Internal Server Error in 46ms (ActiveRecord: 1.3ms)



NoMethodError - undefined method `is_password' for #<User:0x00007f80a3947160>
Did you mean?  is_password?
               password:
  app/models/user.rb:14:in `find_by_credentials'
  app/controllers/api/sessions_controller.rb:6:in `create'

Started POST "/api/session?user[email]=abc@gmail.com&user[password]=[FILTERED]" for ::1 at 2021-02-09 14:59:51 -0800
Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"abc@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abc@gmail.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:28
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "abc@gmail.com"], ["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:28
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "tjo49NyIUravBueiqWmodw"], ["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:28
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "tjo49NyIUravBueiqWmodw"], ["updated_at", "2021-02-09 22:59:52.634441"], ["id", 4]]
  â†³ app/models/user.rb:28
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:28
  Rendering api/users/show.json.jbuilder
  Rendered api/users/_user.json.jbuilder (0.8ms)
  Rendered api/users/show.json.jbuilder (7.7ms)
Completed 200 OK in 826ms (Views: 42.1ms | ActiveRecord: 25.8ms)


Started DELETE "/api/session?user[id]=4" for ::1 at 2021-02-09 15:00:17 -0800
Processing by Api::SessionsController#destroy as JSON
  Parameters: {"user"=>{"id"=>"4"}}
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "tjo49NyIUravBueiqWmodw"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:28
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "abc@gmail.com"], ["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:28
  [1m[36mUser Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "Q5dqB_6eB0kqqGVlGfgVxw"], ["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:28
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "Q5dqB_6eB0kqqGVlGfgVxw"], ["updated_at", "2021-02-09 23:00:18.016526"], ["id", 4]]
  â†³ app/models/user.rb:28
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:28
  Rendering api/users/show.json.jbuilder
  Rendered api/users/_user.json.jbuilder (1.0ms)
  Rendered api/users/show.json.jbuilder (21.3ms)
Completed 200 OK in 94ms (Views: 57.0ms | ActiveRecord: 7.7ms)


Started DELETE "/api/session?user[id]=4" for ::1 at 2021-02-09 15:00:28 -0800
Processing by Api::SessionsController#destroy as JSON
  Parameters: {"user"=>{"id"=>"4"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 404 Not Found in 5ms (Views: 0.9ms | ActiveRecord: 0.7ms)


Started GET "/" for ::1 at 2021-02-09 15:25:00 -0800
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (2.9ms)
Completed 200 OK in 488ms (Views: 468.4ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2021-02-09 15:30:28 -0800
  [1m[35m (5.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/scottbogart/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.4.4/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (7.4ms)
Completed 200 OK in 5605ms (Views: 5597.5ms | ActiveRecord: 0.0ms)


Started POST "/api/session" for ::1 at 2021-02-09 15:31:02 -0800
Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"abc@yahoo.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (8.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abc@yahoo.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:12
Completed 500 Internal Server Error in 468ms (ActiveRecord: 16.9ms)



NameError - undefined local variable or method `email' for #<Api::SessionsController:0x00007fbca0b766c8>:
  app/controllers/api/sessions_controller.rb:13:in `create'

Started POST "/api/session" for ::1 at 2021-02-09 15:33:40 -0800
Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"abc@yahoo.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abc@yahoo.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:12
Completed 500 Internal Server Error in 1568ms (ActiveRecord: 1.5ms)



NameError - undefined local variable or method `email' for #<Api::SessionsController:0x00007fbc98635798>:
  app/controllers/api/sessions_controller.rb:13:in `create'

Started POST "/api/user" for ::1 at 2021-02-09 15:34:08 -0800
Processing by Api::UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"abc@yahoo.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abc@yahoo.com"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "DTuPV3c4yWzDsnRnjYd2wg"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[36mUser Create (29.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "session_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "abc@yahoo.com"], ["password_digest", "$2a$12$7X.cUTC8tb2tmB7jPPMI6u9gNzUV0P.wrV9Fk0npG005GNG8jZKW6"], ["session_token", "DTuPV3c4yWzDsnRnjYd2wg"], ["created_at", "2021-02-09 23:34:10.933128"], ["updated_at", "2021-02-09 23:34:10.933128"]]
  â†³ app/controllers/api/users_controller.rb:8
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/users_controller.rb:8
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:28
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "abc@yahoo.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:28
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "UXA9tFwqcs4fNO1F_iR10g"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:28
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "UXA9tFwqcs4fNO1F_iR10g"], ["updated_at", "2021-02-09 23:34:10.991702"], ["id", 5]]
  â†³ app/models/user.rb:28
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:28
  Rendering api/users/show.json.jbuilder
  Rendered api/users/_user.json.jbuilder (0.8ms)
  Rendered api/users/show.json.jbuilder (39.5ms)
Completed 200 OK in 2141ms (Views: 115.8ms | ActiveRecord: 66.8ms)


Started DELETE "/api/session" for ::1 at 2021-02-09 15:34:47 -0800
Processing by Api::SessionsController#destroy as JSON
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "UXA9tFwqcs4fNO1F_iR10g"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:28
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "abc@yahoo.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:28
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "t1Iex4ODLWMwi3JcIEybVw"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:28
  [1m[36mUser Update (2.6ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "t1Iex4ODLWMwi3JcIEybVw"], ["updated_at", "2021-02-09 23:34:47.528150"], ["id", 5]]
  â†³ app/models/user.rb:28
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:28
  Rendering api/users/show.json.jbuilder
  Rendered api/users/_user.json.jbuilder (1.3ms)
  Rendered api/users/show.json.jbuilder (8.0ms)
Completed 200 OK in 114ms (Views: 50.8ms | ActiveRecord: 7.0ms)


Started POST "/api/session" for ::1 at 2021-02-09 15:34:55 -0800
Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"abc@yahoo.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abc@yahoo.com"], ["LIMIT", 1]]
  â†³ app/models/user.rb:12
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:28
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "abc@yahoo.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:28
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "QLmjpC4gcAV-yEGSxclyiQ"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:28
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "QLmjpC4gcAV-yEGSxclyiQ"], ["updated_at", "2021-02-09 23:34:55.641749"], ["id", 5]]
  â†³ app/models/user.rb:28
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:28
  Rendering api/users/show.json.jbuilder
  Rendered api/users/_user.json.jbuilder (0.6ms)
  Rendered api/users/show.json.jbuilder (6.1ms)
Completed 200 OK in 418ms (Views: 34.2ms | ActiveRecord: 5.5ms)


